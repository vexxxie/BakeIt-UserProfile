package com.example.bakeitv01;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ProgressBar;import android.widget.TextView;import android.widget.Toast;import com.google.android.gms.tasks.OnFailureListener;import com.google.android.gms.tasks.OnSuccessListener;import com.google.firebase.auth.AuthResult;import com.google.firebase.auth.FirebaseAuth;public class Login extends AppCompatActivity {    Button login;    TextView signUpBtn;    EditText email, password;    FirebaseAuth firebaseAuth;    ProgressBar progressBar;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_login);        firebaseAuth = FirebaseAuth.getInstance();        email = findViewById(R.id.loginEmail);        password = findViewById(R.id.loginPassword);        login = findViewById(R.id.loginBtn);        signUpBtn = findViewById(R.id.signUpBtn);        progressBar = findViewById (R.id.progressBar);        signUpBtn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Intent toSignUp = new Intent(Login.this, SignUp.class);                startActivity(toSignUp);            }        });        login.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                //extract data                if (email.getText().toString().isEmpty()){                    email.setError("Email is missing");                    return;                }                if (password.getText().toString().isEmpty()){                    password.setError("Password is missing");                    return;                }                progressBar.setVisibility (View.VISIBLE);                //data is valid                //login user                firebaseAuth.signInWithEmailAndPassword(email.getText().toString(),password.getText().toString()).addOnSuccessListener(new OnSuccessListener<AuthResult>() {                    @Override                    public void onSuccess(AuthResult authResult) {                        startActivity(new Intent(getApplicationContext(),Home.class));                        finish();                    }                }).addOnFailureListener(new OnFailureListener() {                    @Override                    public void onFailure(@NonNull Exception e) {                        Toast.makeText(Login.this, e.getMessage(), Toast.LENGTH_SHORT).show();                    }                });                progressBar.setVisibility (View.VISIBLE);            }        });    }    @Override    protected void onStart() {        super.onStart();        if(FirebaseAuth.getInstance().getCurrentUser() != null){            startActivity(new Intent(getApplicationContext(),Home.class));            finish();        }        progressBar.setVisibility(View.GONE);    }}